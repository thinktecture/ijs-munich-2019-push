<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js');
        navigator.serviceWorker.ready.then(registration => {
            if ('PushManager' in window) {
                registerForPush(registration.pushManager);
            }
        });
    }

    function registerForPush(pushManager) {
        const options = {
            userVisibleOnly: true,
            applicationServerKey: new Uint8Array([/* â€¦ */])
        };

        pushManager.subscribe(options)
            .then(subscription => console.log(subscription.toJSON()))
            .catch(error => console.log(error));
    }
</script>
</body>
</html>
